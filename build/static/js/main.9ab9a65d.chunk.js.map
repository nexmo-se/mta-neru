{"version":3,"sources":["logo.svg","context/UserContext.js","api/fetchRecording.js","api/fetchCreds.js","hooks/usePublisher.js","hooks/useDevices.js","components/AudioSetting/index.js","components/VideoSetting/index.js","components/WaitingRoom/styles.js","utils/index.js","components/WaitingRoom/index.js","hooks/useSession.js","components/MuteAudioButton/styles.js","components/MuteAudioButton/index.js","components/MuteVideoButton/styles.js","components/MuteVideoButton/index.js","hooks/useSignalling.js","components/RecordButton/styles.js","components/RecordButton/index.js","components/EndCallButton/index.js","components/ToolBar/styles.js","components/ToolBar/index.js","components/Banner/styles.js","components/EntitiesList/index.js","components/Main/index.js","components/Wrapper/styles.js","components/Wrapper/index.js","components/EndCall/styles.js","components/EndCall/index.js","components/ProtectedRoute/index.js","components/Header/styles.js","components/Header/index.js","components/VirtualView/styles.js","components/VirtualView/index.js","App.js","reportWebVitals.js","index.js"],"names":["UserContext","createContext","API_URL","process","render","roomName","axios","post","stopRecording","archiveId","get","console","log","getCredentials","getVirtualViewerCredentials","startTranslation","streamId","sessionId","streamName","specialty","usePublisher","useParams","preferences","useContext","useState","isPublishing","setIsPublishing","pubInitialised","setPubInitialised","publisherRef","useRef","publisherError","setPublisherError","setConnectionIdFromStreamer","setSessionId","audioInputDevices","videoInputDevices","audioOutputDevices","deviceInfo","setDeviceInfo","getDevices","useCallback","navigator","mediaDevices","enumerateDevices","warn","Promise","resolve","reject","OT","err","devices","getAudioOutputDevices","filter","d","kind","toLowerCase","useEffect","addEventListener","removeEventListener","useDevices","streamCreatedListener","React","stream","name","id","publisher","session","localStorage","getItem","then","data","connectionId","catch","e","streamDestroyedListener","current","initPublisher","containerId","publisherOptions","finalPublisherOptions","Object","assign","width","height","publishVideo","publishAudio","style","buttonDisplayMode","nameDisplayMode","insertMode","showControls","fitMode","on","off","destroyPublisher","destroy","publish","unpublish","AudioSettings","memo","hasAudio","onAudioChange","className","Switch","checked","onChange","VideoSettings","hasVideo","onVideoChange","makeStyles","theme","waitingRoomContainer","position","left","top","display","flexDirection","transform","backgroundColor","blueGrey","padding","borderRadius","waitingRoomVideoContainer","deviceContainer","margin","deviceSettings","justifyContent","alignItems","selectWidth","networkTestContainer","flex","green","color","red","containerCenter","getSourceDeviceId","inputDevices","currentSource","toReturn","i","length","label","deviceId","WaitingRoom","classes","useStyles","setPreferences","push","useHistory","defaultLocalAudio","defaultLocalVideo","localAudio","setLocalAudio","localVideo","setLocalVideo","undefined","localVideoSource","setLocalVideoSource","localAudioSource","setLocalAudioSource","localAudioOutput","setLocalAudioOutput","audioDevice","setAudioDevice","videoDevice","setVideoDevice","audioOutputDevice","setAudioOutputDevice","setSpecialty","setRoomName","userName","setUserName","isRoomNameInvalid","setIsRoomNameInvalid","isUserNameInvalid","setIsUserNameInvalid","handleAudioChange","target","handleVideoChange","handleVideoSource","videoDeviceId","value","setVideoSource","handleAudioSource","audioDeviceId","setAudioSource","handleAudioOutput","audioOutputId","handleJoinClick","setItem","onKeyDown","keyCode","currentAudioDevice","getAudioSource","currentVideoDevice","getVideoSource","track","getActiveAudioOutputDevice","currentAudioOutputDevice","defaultSettings","audioSource","videoSource","audioOutput","waitingRoomVideoPreview","form","noValidate","FormControl","fullWidth","InputLabel","Select","size","labelId","map","key","MenuItem","TextField","variant","required","autoComplete","error","autoFocus","trim","autoWidth","device","ref","Button","onClick","useSession","container","connected","setConnected","streams","setStreams","sessionRef","status","setNetworkStatus","shouldSubscribe","subscribe","options","finalOptions","subscribeToVideo","subscribeToAudio","onStreamCreated","event","window","location","pathname","split","prev","addStream","onStreamDestroyed","prevStream","removeStream","onSessionDisconnected","onSessionReconnecting","onConnectionDestroyed","createSession","apiKey","token","Error","initSession","eventHandlers","streamCreated","streamDestroyed","sessionReconnecting","sessionDisconnected","connectionDestoyed","connect","destroySession","disconnect","selected","MuteAudioButton","toggleAudio","title","styles","Tooltip","IconButton","edge","toolbarButtons","disabledButton","fontSize","MuteVideoButton","arrowButton","useSignalling","messages","setMessages","setArchiveId","renderedSesion","setRenderedSession","medication","setMedicationEntities","medicalConditions","setMedicalConditionsEntities","anatomyEntities","setAnatomyEntities","piiEntities","setPiiEntities","ttpEntities","setTtpEntities","signal","type","payload","JSON","parse","stringify","archiveListener","sessionRendered","sendMessage","message","medicationListener","dataJson","from","forEach","entity","Category","Text","Math","floor","Score","concepts","RxNormConcepts","medConditionListener","ICD10CMConcepts","entitiesListener","Type","attribute","Attributes","messageListener","activeRecordingIcon","boxShadow","animation","RecordingButton","isRecording","setRecording","renderId","setRenderId","localClasses","startRender","renderData","recording","stopRenderAndRecording","handleRecordingStop","EndCallIcon","handleEndCall","toolbarContainer","palette","toolbarBackground","main","bottom","right","paper","background","border","shadows","spacing","toolbarMobileContainer","infoButton","groupButton","activeButtons","activeButton","activeButtonIcon","ToolBar","root","wsStatus","info","action","paddingRight","networkStatusIcons","snackBarContent","EntitiesList","listOfEntities","List","ListItem","disablePadding","ListItemIcon","getIcon","Typography","getBgColor","component","gutterBottom","sx","pl","maxHeight","overflow","overflowY","bgcolor","ListItemText","primary","Collapse","in","timeout","unmountOnExit","_e","_i","Code","Description","Main","videoContainer","text","speaker","captions","setCaptions","credentials","setCredentials","setError","setHasAudio","setHasVideo","setUserId","userId","flexWrap","alignContent","Wrapper","banner","zIndex","marginTop","new__meeting","meetingInfo","minWidth","bullet","pos","marginBottom","centeredFlex","EndCall","recordings","setRecordings","fetchRecordings","setTimeout","publishers","Card","CardContent","CardActions","Date","createdAt","href","url","ProtectedRoute","Component","rest","computedMatch","params","props","to","header","alignSelf","Header","VirtualView","App","preferencesValue","useMemo","ThemeProvider","createTheme","secondary","bodyBackground","black","callBackground","Provider","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ab9a65d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { createContext } from 'react';\n\nexport const UserContext = createContext();\n","import axios from 'axios';\nlet API_URL = `${process.env.REACT_APP_API_URL_DEVELOPMENT}`;\nif (process.env.NODE_ENV === 'production') {\n  API_URL = `${process.env.REACT_APP_API_URL_PRODUCTION}`;\n}\nconst fetchRecordings = (sessionId) => {\n  return axios.get(`${API_URL}/archive/${sessionId}`);\n};\n\nconst startRecording = (sessionId) => {\n  console.log('Got session client side' + sessionId);\n  return axios.post(`${API_URL}/archive/start`, {\n    session_id: sessionId,\n  });\n};\n\nconst render = (roomName) => {\n  return axios.post(`${API_URL}/render`, { roomName: roomName });\n};\n\nconst stopRender = (id) => {\n  return axios.get(`${API_URL}/render/stop/${id}`);\n};\n\nconst stopRecording = (archiveId) => {\n  return axios.get(`${API_URL}/archive/stop/${archiveId}`);\n};\n\nexport { fetchRecordings, startRecording, stopRecording, render, stopRender };\n","import axios from 'axios';\n\nlet API_URL = process.env.REACT_APP_API_URL_DEVELOPMENT;\n\nconsole.log(process.env.NODE_ENV, API_URL);\n\n// let API_URL = `http://localhost:5000`;\nif (process.env.NODE_ENV === 'production') {\n  API_URL = `${process.env.REACT_APP_API_URL_PRODUCTION}`;\n}\n\nexport const getCredentials = async (roomName) => {\n  return axios.get(`${API_URL}/session/${roomName}`);\n};\nexport const getVirtualViewerCredentials = async (roomName) => {\n  return axios.get(`${API_URL}/session/${roomName}?role=virtual`);\n};\nexport const startTranslation = async (streamId, sessionId, streamName, specialty) => {\n  return axios.post(`${API_URL}/startStreaming`, {\n    streamId,\n    sessionId,\n    streamName,\n    specialty\n  });\n};\n\nexport const stopStreamer = async (sessionId, connectionId) => {\n  return axios.get(`${API_URL}/stopStreamer/${sessionId}/${connectionId}`);\n};\n\nexport const getToken = async () => {\n  return axios.get(`${API_URL}/token`);\n};\n","import React, { useCallback, useRef, useState, useContext } from 'react';\nimport OT from '@opentok/client';\n\nimport { useParams } from 'react-router';\nimport { UserContext } from '../context/UserContext';\nimport { stopRecording, stopRender } from '../api/fetchRecording';\nimport useDevices from '../hooks/useDevices';\n\nimport { startTranslation, stopStreamer } from '../api/fetchCreds';\n\nexport function usePublisher() {\n  let { roomName } = useParams();\n  const { preferences } = useContext(UserContext);\n  const [isPublishing, setIsPublishing] = useState(false);\n  const [pubInitialised, setPubInitialised] = useState(false);\n  const publisherRef = useRef();\n  const [publisherError, setPublisherError] = useState(null);\n  const [connectionIdFromStream, setConnectionIdFromStreamer] = useState(null);\n  const [sessionId, setSessionId] = useState(null);\n  const { deviceInfo, getDevices } = useDevices();\n\n  const streamCreatedListener = React.useCallback(\n    ({ stream }) => {\n      if (stream.name !== 'EC') {\n        console.log(stream);\n        preferences.streamId = stream.id;\n        const sessionId = stream.publisher.session.id;\n        console.log(sessionId);\n        setSessionId(sessionId);\n\n        // setConnectionIdFromStreamer('124');\n        console.log({ roomName, specialty: localStorage.getItem('specialty') });\n        startTranslation(\n          stream.id,\n          sessionId,\n          stream.name,\n          localStorage.getItem('specialty')\n        )\n          .then((data) => {\n            console.log(data.data);\n            console.log('setting connectionId ' + data.data.connectionId);\n            setConnectionIdFromStreamer(data.data.connectionId);\n          })\n          .catch((e) => console.log(e));\n        setIsPublishing(true);\n      }\n    },\n    [preferences, roomName]\n  );\n\n  const streamDestroyedListener = useCallback(({ stream }) => {\n    console.log('destroyed publisher');\n\n    //the problem seems to be sessionid is undefined\n\n    // .then((data) => {})\n    // .catch((e) => console.log(e));\n    publisherRef.current = null;\n\n    setPubInitialised(false);\n    setIsPublishing(false);\n  }, []);\n\n  const initPublisher = useCallback(\n    (containerId, publisherOptions) => {\n      console.log('UsePublisher - initPublisher');\n      if (publisherRef.current) {\n        console.log('UsePublisher - Already initiated');\n        return;\n      }\n      if (!containerId) {\n        console.log('UsePublisher - Container not available');\n      }\n      const finalPublisherOptions = Object.assign({}, publisherOptions, {\n        width: '100%',\n        height: '100%',\n        //name: preferences.name,\n        name: localStorage.getItem('username'),\n        publishVideo: true,\n        publishAudio: true,\n        style: {\n          buttonDisplayMode: 'on',\n          nameDisplayMode: 'off',\n        },\n        insertMode: 'append',\n        showControls: true,\n        fitMode: 'contain',\n      });\n      console.log('usePublisher finalPublisherOptions', finalPublisherOptions);\n      publisherRef.current = OT.initPublisher(\n        containerId,\n        finalPublisherOptions,\n        (err) => {\n          if (err) {\n            console.log('[usePublisher]', err);\n            publisherRef.current = null;\n          }\n          console.log('Publisher Created');\n        }\n      );\n\n      publisherRef.current.on('accessAllowed', getDevices);\n\n      setPubInitialised(true);\n\n      publisherRef.current.on('streamCreated', streamCreatedListener);\n      publisherRef.current.on('streamDestroyed', streamDestroyedListener);\n      publisherRef.current.on('destroyed', () => {\n        publisherRef.current = null;\n        console.log(publisherRef);\n        console.log('publisherRef.current Destroyed');\n      });\n\n      return () => {\n        publisherRef.current.off('streamCreated', streamCreatedListener);\n        publisherRef.current.off('streamDestroyed', streamDestroyedListener);\n        publisherRef.current.off('destroyed', () => {});\n      };\n    },\n    [getDevices, streamCreatedListener, streamDestroyedListener]\n  );\n\n  const destroyPublisher = useCallback(() => {\n    if (!publisherRef.current) {\n      return;\n    }\n    if (publisherRef.current) {\n      publisherRef.current.destroy();\n    }\n  }, []);\n\n  const publish = useCallback(\n    ({ session, containerId, publisherOptions }) => {\n      if (!publisherRef.current) {\n        initPublisher(containerId, publisherOptions);\n      }\n      if (session && publisherRef.current && !isPublishing) {\n        return new Promise((resolve, reject) => {\n          session.publish(publisherRef.current, (err) => {\n            if (err) {\n              console.log('Publisher Error', err);\n              setIsPublishing(false);\n              publisherRef.current = null;\n              setPublisherError(true);\n              reject(err);\n            }\n            console.log('Published');\n            resolve(publisherRef.current);\n          });\n        });\n      } else if (publisherRef.current) {\n        // nothing to do\n      }\n    },\n    [initPublisher, isPublishing]\n  );\n\n  const unpublish = useCallback(\n    ({ session }) => {\n      if (publisherRef.current && isPublishing && session) {\n        session.unpublish(publisherRef.current);\n        setIsPublishing(false);\n        publisherRef.current = null;\n      }\n    },\n    [isPublishing]\n  );\n\n  return {\n    publisher: publisherRef.current,\n    initPublisher,\n    destroyPublisher,\n    publish,\n    pubInitialised,\n    unpublish,\n    isPublishing,\n    publisherError,\n    deviceInfo,\n  };\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport OT from '@opentok/client';\n\nexport default function useDevices() {\n  const [deviceInfo, setDeviceInfo] = useState({\n    audioInputDevices: [],\n    videoInputDevices: [],\n    audioOutputDevices: [],\n  });\n\n  const getDevices = useCallback(async () => {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\n      console.warn('enumerateDevices() not supported.');\n      return;\n    }\n    return new Promise((resolve, reject) => {\n      OT.getDevices(async (err, devices) => {\n        if (err) {\n          reject(err);\n        }\n        let audioOutputDevices = await OT.getAudioOutputDevices();\n        // audioOutputDevices = audioOutputDevices.map((audiooutput) =>\n        //     audiooutput.deviceId === 'default'\n        //         ? { ...audiooutput, label: 'System Default' }\n        //         : audiooutput\n        // );\n        const audioInputDevices = devices.filter(\n          (d) => d.kind.toLowerCase() === 'audioinput'\n        );\n        const videoInputDevices = devices.filter(\n          (d) => d.kind.toLowerCase() === 'videoinput'\n        );\n\n        setDeviceInfo({\n          audioInputDevices,\n          videoInputDevices,\n          audioOutputDevices,\n        });\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    navigator.mediaDevices.addEventListener('devicechange', getDevices);\n\n    getDevices();\n\n    return () => {\n      navigator.mediaDevices.removeEventListener('devicechange', getDevices);\n    };\n  }, [getDevices]);\n\n  return { deviceInfo, getDevices };\n}\n","import React from \"react\";\n\nimport Mic from \"@material-ui/icons/Mic\";\nimport Switch from \"@material-ui/core/Switch\";\n\nexport const AudioSettings = React.memo(\n  ({ hasAudio, onAudioChange, className }) => {\n    return (\n      <div className={className}>\n        <Mic />\n        <div>Microphone</div>\n        <Switch\n          checked={hasAudio}\n          onChange={onAudioChange}\n          name=\"AudioToggle\"\n        />\n      </div>\n    );\n  }\n);\n","import React from \"react\";\n\nimport Videocam from \"@material-ui/icons/Videocam\";\nimport Switch from \"@material-ui/core/Switch\";\n\nexport const VideoSettings = React.memo(\n  ({ hasVideo, onVideoChange, className }) => {\n    // const [enabled, setEnabled] = useState(hasAudio);\n    console.log(\"Video Setting\", hasVideo);\n    return (\n      <div className={className}>\n        <Videocam />\n        <div>Video</div>\n        <Switch\n          checked={hasVideo}\n          onChange={onVideoChange}\n          name=\"VideoToggle\"\n        />\n      </div>\n    );\n  }\n);\n","import { makeStyles } from '@material-ui/core/styles';\nimport { blueGrey, green, red } from '@material-ui/core/colors';\nexport default makeStyles((theme) => ({\n  waitingRoomContainer: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n    display: 'flex',\n    flexDirection: 'column',\n    transform: 'translate(-50%, -50%)',\n    backgroundColor: blueGrey[100],\n    padding: '10px 20px',\n    borderRadius: 5,\n    width: '360px'\n  },\n  waitingRoomVideoContainer: {\n    width: '360px',\n    height: '264px'\n  },\n  deviceContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: '5px 0'\n  },\n  deviceSettings: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    alignItems: 'center'\n  },\n  selectWidth: {\n    width: '200px'\n  },\n  networkTestContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: '10px 5px'\n  },\n  flex: {\n    display: 'flex'\n  },\n  green: {\n    color: green[600]\n  },\n  red: {\n    color: red[600]\n  },\n  containerCenter: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    margin: '3px',\n    flexDirection: 'column'\n  }\n}));","/**\n * For both audio and video\n * \n * @param {*} inputDevices \n * @param {*} currentSource \n * @returns String toReturn\n */\n\n// const getAudioSourceDeviceId = (audioInputDevices, currentAudioSource) => {\n//   let toReturn = '';\n//   console.log('getAudioSourceDeviceId', audioInputDevices, currentAudioSource);\n//   if (!audioInputDevices || !currentAudioSource) {\n//     return toReturn;\n//   }\n//   for (let i = 0; i < audioInputDevices.length; i += 1) {\n//     if (audioInputDevices[i].label === currentAudioSource.label) {\n//       toReturn = audioInputDevices[i].deviceId;\n//       break;\n//     }\n//   }\n//   return toReturn;\n// };\n// export { getAudioSourceDeviceId };\n\nconst getSourceDeviceId = (inputDevices, currentSource) => {\n  let toReturn = '';\n  console.log('getSourceDeviceId', inputDevices, currentSource);\n  if (!inputDevices || !currentSource) {\n    return toReturn;\n  }\n  for (let i = 0; i < inputDevices.length; i += 1) {\n    if (inputDevices[i].label === currentSource.label) {\n      toReturn = inputDevices[i].deviceId;\n      break;\n    }\n  }\n  return toReturn;\n};\n\nexport { getSourceDeviceId };\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport OT from '@opentok/client';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Button,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n} from '@material-ui/core';\nimport { usePublisher } from '../../hooks/usePublisher';\nimport { AudioSettings } from '../AudioSetting';\nimport { VideoSettings } from '../VideoSetting';\nimport { UserContext } from '../../context/UserContext';\nimport useStyles from './styles';\nimport { getSourceDeviceId } from '../../utils';\n\nexport default function WaitingRoom() {\n  const classes = useStyles();\n  const { preferences, setPreferences } = useContext(UserContext);\n  const { push } = useHistory();\n  const defaultLocalAudio = true;\n  const defaultLocalVideo = true;\n  const [localAudio, setLocalAudio] = useState(defaultLocalAudio);\n  const [localVideo, setLocalVideo] = useState(defaultLocalVideo);\n  const [localVideoSource, setLocalVideoSource] = useState(undefined);\n  const [localAudioSource, setLocalAudioSource] = useState(undefined);\n  const [localAudioOutput, setLocalAudioOutput] = useState(undefined);\n  let [audioDevice, setAudioDevice] = useState('');\n  let [videoDevice, setVideoDevice] = useState('');\n  let [audioOutputDevice, setAudioOutputDevice] = useState('');\n  const [specialty, setSpecialty] = useState('PRIMARYCARE');\n  const [roomName, setRoomName] = useState('');\n  const [userName, setUserName] = useState('');\n  const [isRoomNameInvalid, setIsRoomNameInvalid] = useState(false);\n  const [isUserNameInvalid, setIsUserNameInvalid] = useState(false);\n  const waitingRoomVideoContainer = useRef();\n\n  const {\n    publisher,\n    initPublisher,\n    destroyPublisher,\n    deviceInfo,\n    pubInitialised,\n  } = usePublisher();\n\n  const handleAudioChange = React.useCallback((e) => {\n    setLocalAudio(e.target.checked);\n  }, []);\n\n  const handleVideoChange = React.useCallback((e) => {\n    setLocalVideo(e.target.checked);\n  }, []);\n\n  const handleVideoSource = React.useCallback(\n    (e) => {\n      const videoDeviceId = e.target.value;\n      setVideoDevice(e.target.value);\n      publisher.setVideoSource(videoDeviceId);\n      setLocalVideoSource(videoDeviceId);\n    },\n    [publisher, setVideoDevice, setLocalVideoSource]\n  );\n\n  const handleAudioSource = React.useCallback(\n    (e) => {\n      const audioDeviceId = e.target.value;\n      setAudioDevice(audioDeviceId);\n      publisher.setAudioSource(audioDeviceId);\n      setLocalAudioSource(audioDeviceId);\n    },\n    [publisher, setAudioDevice, setLocalAudioSource]\n  );\n\n  const handleAudioOutput = React.useCallback(\n    (e) => {\n      const audioOutputId = e.target.value;\n      setAudioOutputDevice(audioOutputId);\n      OT.setAudioOutputDevice(audioOutputId);\n      setLocalAudioOutput(audioOutputId);\n    },\n    [setLocalAudioOutput, setAudioOutputDevice]\n  );\n\n  const validateForm = () => {\n    console.log('validateForm', userName);\n    console.log('validateForm', roomName);\n    if (userName === '') {\n      setIsUserNameInvalid(true);\n      return false;\n    } else if (roomName === '') {\n      setIsRoomNameInvalid(true);\n      return false;\n    }\n    return true;\n  };\n\n  const handleJoinClick = () => {\n    if (validateForm()) {\n      localStorage.setItem('username', userName);\n      localStorage.setItem('specialty', specialty);\n      push(`room/${roomName}`);\n    }\n  };\n\n  const onChangeRoomName = (e) => {\n    const roomName = e.target.value;\n    if (roomName === '' || roomName.trim() === '') {\n      // Space detected\n      setRoomName('');\n      return;\n    }\n    setIsRoomNameInvalid(false);\n    setRoomName(roomName);\n  };\n\n  const onChangeParticipantName = (e) => {\n    const userName = e.target.value;\n    if (userName === '' || userName.trim() === '') {\n      // Space detected\n      setUserName('');\n      return;\n    }\n    setIsUserNameInvalid(false);\n    setUserName(userName);\n  };\n\n  const onKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      handleJoinClick();\n    }\n  };\n\n  useEffect(() => {\n    const publisherOptions = {\n      publishAudio: defaultLocalAudio,\n      publishVideo: defaultLocalVideo,\n    };\n    if (waitingRoomVideoContainer.current) {\n      initPublisher(waitingRoomVideoContainer.current.id, publisherOptions);\n    }\n  }, [initPublisher, defaultLocalAudio, defaultLocalVideo]);\n\n  useEffect(() => {\n    if (publisher) {\n      publisher.publishAudio(localAudio);\n    }\n  }, [localAudio, publisher]);\n\n  useEffect(() => {\n    if (publisher) {\n      publisher.publishVideo(localVideo);\n    }\n  }, [localVideo, publisher]);\n\n  useEffect(() => {\n    if (publisher && pubInitialised && deviceInfo) {\n      const currentAudioDevice = publisher.getAudioSource();\n      setAudioDevice(\n        getSourceDeviceId(deviceInfo.audioInputDevices, currentAudioDevice)\n      );\n\n      const currentVideoDevice = publisher.getVideoSource();\n      setVideoDevice(\n        getSourceDeviceId(\n          deviceInfo.videoInputDevices,\n          currentVideoDevice?.track\n        )\n      );\n\n      OT.getActiveAudioOutputDevice().then((currentAudioOutputDevice) => {\n        setAudioOutputDevice(currentAudioOutputDevice.deviceId);\n      });\n    }\n  }, [\n    deviceInfo,\n    publisher,\n    setAudioDevice,\n    setVideoDevice,\n    setAudioOutputDevice,\n    pubInitialised,\n  ]);\n\n  // useEffect(() => {\n  //   return () => {\n  //     destroyPublisher();\n  //   };\n  // }, [destroyPublisher]);\n\n  useEffect(() => {\n    setPreferences({\n      defaultSettings: {\n        publishAudio: localAudio,\n        publishVideo: localVideo,\n        audioSource: localAudioSource,\n        videoSource: localVideoSource,\n        audioOutput: localAudioOutput,\n      },\n    });\n  }, [\n    localAudio,\n    localVideo,\n    setPreferences,\n    localAudioSource,\n    localVideoSource,\n    localAudioOutput,\n  ]);\n\n  return (\n    <div className={classes.waitingRoomContainer}>\n      <div className={classes.containerCenter}>\n        <div className={classes.waitingRoomVideoPreview}>\n          <form className={classes.form} noValidate>\n            <FormControl fullWidth>\n              <InputLabel id=\"specialty-select-label\">\n                Medical Specialty\n              </InputLabel>\n              <Select\n                size=\"small\"\n                labelId=\"specialty-select-label\"\n                id=\"specialty-select\"\n                name=\"specialty\"\n                value={specialty}\n                onChange={(e) => setSpecialty(e.target.value)}\n              >\n                {[\n                  'PRIMARYCARE',\n                  'CARDIOLOGY',\n                  'NEUROLOGY',\n                  'ONCOLOGY',\n                  'RADIOLOGY',\n                  'UROLOGY',\n                ].map((value, key) => (\n                  <MenuItem key={key} value={value}>\n                    {value}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <TextField\n              size=\"small\"\n              variant=\"outlined\"\n              margin=\"dense\"\n              required\n              fullWidth\n              id=\"room-name\"\n              label=\"Room Name\"\n              name=\"roomName\"\n              autoComplete=\"Room Name\"\n              error={isRoomNameInvalid}\n              autoFocus\n              // helperText={roomName === '' ? 'Empty Field' : ' '}\n              value={roomName}\n              onChange={onChangeRoomName}\n              onKeyDown={onKeyDown}\n            />\n            <TextField\n              size=\"small\"\n              variant=\"outlined\"\n              margin=\"none\"\n              fullWidth\n              id=\"publisher-name\"\n              label=\"Name\"\n              name=\"name\"\n              error={isUserNameInvalid}\n              required\n              autoComplete=\"Name\"\n              // helperText={userName === '' ? 'Empty Field' : ' '}\n              value={userName}\n              onChange={onChangeParticipantName}\n              onKeyDown={onKeyDown}\n            />\n          </form>\n          <div className={classes.deviceContainer}>\n            <>\n              <FormControl margin=\"dense\">\n                <InputLabel id=\"demo-simple-select-label\">\n                  Select Audio Source\n                </InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-label\"\n                  id=\"demo-simple-select\"\n                  value={audioDevice}\n                  onChange={handleAudioSource}\n                  autoWidth={true}\n                >\n                  {deviceInfo.audioInputDevices.map((device) => (\n                    <MenuItem key={device.deviceId} value={device.deviceId}>\n                      {device.label}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n\n              <FormControl margin=\"dense\">\n                <InputLabel id=\"video\">Select Audio Output</InputLabel>\n                {deviceInfo.audioOutputDevices && (\n                  <Select\n                    labelId=\"video\"\n                    id=\"demo-simple-select\"\n                    value={audioOutputDevice}\n                    onChange={handleAudioOutput}\n                    autoWidth={true}\n                  >\n                    {deviceInfo.audioOutputDevices.map((device) => (\n                      <MenuItem key={device.deviceId} value={device.deviceId}>\n                        {device.label}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                )}\n              </FormControl>\n\n              <FormControl margin=\"dense\">\n                <InputLabel id=\"video\">Select Video Source</InputLabel>\n                {deviceInfo.videoInputDevices && (\n                  <Select\n                    labelId=\"video\"\n                    id=\"demo-simple-select\"\n                    value={videoDevice}\n                    onChange={handleVideoSource}\n                    autoWidth={true}\n                  >\n                    {deviceInfo.videoInputDevices.map((device) => (\n                      <MenuItem key={device.deviceId} value={device.deviceId}>\n                        {device.label}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                )}\n              </FormControl>\n            </>\n          </div>\n          <div className={classes.deviceContainer}>\n            <AudioSettings\n              className={classes.deviceSettings}\n              hasAudio={localAudio}\n              onAudioChange={handleAudioChange}\n            />\n            <VideoSettings\n              className={classes.deviceSettings}\n              hasVideo={localVideo}\n              onVideoChange={handleVideoChange}\n            />\n          </div>\n          <div\n            id=\"waiting-room-video-container\"\n            className={classes.waitingRoomVideoContainer}\n            ref={waitingRoomVideoContainer}\n          ></div>\n        </div>\n      </div>\n      <div className={classes.containerCenter}>\n        <Button variant=\"contained\" color=\"secondary\" onClick={handleJoinClick}>\n          Join Call\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useRef, useCallback } from 'react';\n\nimport _ from 'lodash';\nimport OT from '@opentok/client';\n// const OT = window.OT;\n\nexport function useSession({ container }) {\n  const [connected, setConnected] = useState(false);\n  const [streams, setStreams] = useState([]);\n  const sessionRef = useRef(null);\n  const [status, setNetworkStatus] = useState(null);\n\n  const addStream = ({ stream }) => {\n    setStreams((prev) => [...prev, stream]);\n  };\n\n  const removeStream = ({ stream }) => {\n    setStreams((prev) =>\n      prev.filter((prevStream) => prevStream.id !== stream.id)\n    );\n  };\n\n  const isExperienceComposer = () => {\n    const queryString = window.location.pathname;\n    return queryString.split('/')[2] === 'virtualviewer';\n  };\n\n  const isRecorder = () => {\n    const queryString = window.location.pathname;\n    return queryString.split('/')[2] === 'recorder';\n  };\n\n  const shouldSubscribe = (name) => {\n    // if (name.split('_')[1] === 'EC') return false;\n    return name !== 'EC';\n    // if (name === 'EC') return false;\n    // else return true;\n  };\n\n  const subscribe = React.useCallback(\n    (stream, options = {}) => {\n      console.log(stream);\n      if (sessionRef.current && container.current) {\n        const finalOptions = Object.assign({}, options, {\n          insertMode: 'append',\n          width: '100%',\n          height: '100%',\n          fitMode: 'contain',\n          style: {\n            buttonDisplayMode: 'on',\n            nameDisplayMode: 'on',\n          },\n          showControls: true,\n          subscribeToVideo: shouldSubscribe(stream.name),\n          // subscribeToAudio: shouldSubscribeToVideo(stream.name),\n          // subscribeToAudio: !isExperienceComposer(),\n          subscribeToAudio: shouldSubscribe(stream.name),\n          //   isExperienceComposer() && stream.name === 'EC' ? false : true,\n        });\n        const subscriber = sessionRef.current.subscribe(\n          stream,\n          shouldSubscribe(stream.name) ? container.current.id : null,\n          finalOptions\n        );\n      }\n    },\n    [container]\n  );\n\n  const onStreamCreated = useCallback(\n    (event) => {\n      console.log('stream created event ' + event.stream.name);\n      console.log(' subscribe to video ' + shouldSubscribe(event.stream.name));\n      console.log('is experience composer ' + isExperienceComposer());\n\n      subscribe(event.stream);\n      addStream({ stream: event.stream });\n    },\n    [subscribe]\n  );\n\n  const onStreamDestroyed = useCallback((event) => {\n    removeStream({ stream: event.stream });\n  }, []);\n\n  const onSessionDisconnected = useCallback((event) => {\n    setNetworkStatus('disconnected');\n  }, []);\n  const onSessionReconnecting = useCallback((event) => {\n    setNetworkStatus('reconnecting');\n  }, []);\n\n  const onConnectionDestroyed = useCallback(\n    (event) => {\n      console.log(event);\n      if (container.current) container.current = null;\n    },\n    [container]\n  );\n\n  const createSession = useCallback(\n    ({ apiKey, sessionId, token }) => {\n      if (!apiKey) {\n        throw new Error('Missing apiKey');\n      }\n\n      if (!sessionId) {\n        throw new Error('Missing sessionId');\n      }\n\n      if (!token) {\n        throw new Error('Missing token');\n      }\n\n      sessionRef.current = OT.initSession(apiKey, sessionId, {});\n      const eventHandlers = {\n        streamCreated: onStreamCreated,\n        streamDestroyed: onStreamDestroyed,\n        sessionReconnecting: onSessionReconnecting,\n        sessionDisconnected: onSessionDisconnected,\n        connectionDestoyed: onConnectionDestroyed,\n      };\n      sessionRef.current.on(eventHandlers);\n      return new Promise((resolve, reject) => {\n        sessionRef.current.connect(token, (err) => {\n          if (!sessionRef.current) {\n            // Either this session has been disconnected or OTSession\n            // has been unmounted so don't invoke any callbacks\n            return;\n          }\n          if (err) {\n            reject(err);\n          } else if (!err) {\n            console.log('Session Connected!');\n            setConnected(true);\n            resolve(sessionRef.current);\n          }\n        });\n      });\n    },\n    [\n      onConnectionDestroyed,\n      onSessionDisconnected,\n      onSessionReconnecting,\n      onStreamCreated,\n      onStreamDestroyed,\n    ]\n  );\n\n  const destroySession = React.useCallback(() => {\n    if (sessionRef.current) {\n      sessionRef.current.on('disconnected', () => {\n        sessionRef.current = null;\n      });\n      sessionRef.current.disconnect();\n    }\n  }, []);\n\n  return {\n    session: sessionRef,\n    connected,\n    createSession,\n    destroySession,\n    streams,\n    status,\n  };\n}\n","import { makeStyles } from '@material-ui/core/styles';\n// export default makeStyles((theme)=>{\nexport default makeStyles({\n  selected: {\n    color: '#b779ff'\n  }\n});\n","// import MicIcon from '@material-ui/icons/Mic';\nimport MicIcon from '@mui/icons-material/Mic';\nimport MicOffIcon from '@mui/icons-material/MicOff';\nimport { IconButton } from '@material-ui/core';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport React from 'react';\nimport styles from './styles.js';\n\nexport default function MuteAudioButton({\n  toggleAudio,\n  hasAudio,\n  classes,\n  handleAudioChange,\n}) {\n  const title = hasAudio ? 'Disable Microphone' : 'Enable Microphone';\n  const localClasses = styles();\n  // console.log(classes);\n\n  // const { deviceInfo } = useDevices();\n  // const [devicesAvailable, setDevicesAvailable] = React.useState(null);\n  // const [options, setOptions] = React.useState([]);\n  // const [open, setOpen] = React.useState(false);\n  // const anchorRef = React.useRef(null);\n  // const [selectedIndex, setSelectedIndex] = React.useState(0);\n  // const [audioDeviceId, setAudioDeviceId] = React.useState('');\n\n  // React.useEffect(() => {\n  //   setDevicesAvailable(deviceInfo.audioInputDevices);\n\n  //   if (cameraPublishing && devicesAvailable) {\n  //     getAudioSource().then((id) => setAudioDeviceId(id));\n\n  //     const indexOfSelectedElement = devicesAvailable.indexOf(\n  //       devicesAvailable.find((e) => e.deviceId === audioDeviceId)\n  //     );\n\n  //     setSelectedIndex(indexOfSelectedElement);\n  //   }\n  // }, [\n  //   cameraPublishing,\n  //   getAudioSource,\n  //   deviceInfo,\n  //   audioDeviceId,\n  //   devicesAvailable\n  // ]);\n\n  // React.useEffect(() => {\n  //   if (devicesAvailable) {\n  //     const audioDevicesAvailable = devicesAvailable.map((e) => {\n  //       return e.label;\n  //     });\n  //     setOptions(audioDevicesAvailable);\n  //   }\n  // }, [devicesAvailable]);\n\n  // const handleChangeAudioSource = (event, index) => {\n  //   setSelectedIndex(index);\n  //   console.log(index);\n  //   setOpen(false);\n  //   const audioDeviceId = devicesAvailable.find(\n  //     (device) => device.label === event.target.textContent\n  //   ).deviceId;\n  //   changeAudioSource(audioDeviceId);\n  // };\n\n  // const handleToggle = (e) => {\n  //   setOpen((prevOpen) => !prevOpen);\n  // };\n\n  // const handleClose = (event) => {\n  //   if (anchorRef.current && anchorRef.current.contains(event.target)) {\n  //     return;\n  //   }\n  //   setOpen(false);\n  // };\n\n  return (\n    <>\n      <Tooltip title={title} aria-label=\"add\">\n        <IconButton\n          edge=\"start\"\n          color=\"inherit\"\n          aria-label=\"mic\"\n          onClick={handleAudioChange}\n          className={`${classes.toolbarButtons} ${\n            !hasAudio ? classes.disabledButton : ''\n          }\n          `}\n        >\n          {!hasAudio ? (\n            <MicOffIcon fontSize=\"large\" />\n          ) : (\n            <MicIcon fontSize=\"large\" />\n          )}\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles({\n  selected: {\n    color: '#b779ff',\n    backgroundColor: 'black'\n  }\n});\n","import VideoCam from '@mui/icons-material/Videocam';\nimport VideocamOff from '@mui/icons-material/VideocamOff';\nimport { IconButton } from '@material-ui/core';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\n// import ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport React from 'react';\nimport styles from './styles.js';\n\nexport default function MuteVideoButton({\n  classes,\n  hasVideo,\n  handleVideoChange,\n}) {\n  const title = hasVideo ? 'Disable Camera' : 'Enable Camera';\n  // console.log('[MuteVideoButton] - hasVideo', hasVideo);\n\n  const [devicesAvailable, setDevicesAvailable] = React.useState(null);\n  const [options, setOptions] = React.useState([]);\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const localClasses = styles();\n\n  // React.useEffect(() => {\n  //   setDevicesAvailable(deviceInfo.videoInputDevices);\n\n  //   if (cameraPublishing) {\n  //     const currentDeviceId = getVideoSource()?.deviceId;\n\n  //     const IndexOfSelectedElement = devicesAvailable.indexOf(\n  //       devicesAvailable.find((e) => e.deviceId === currentDeviceId)\n  //     );\n  //     setSelectedIndex(IndexOfSelectedElement);\n  //   }\n  // }, [cameraPublishing, getVideoSource, deviceInfo]);\n\n  // React.useEffect(() => {\n  //   if (devicesAvailable) {\n  //     const videoDevicesAvailable = devicesAvailable.map((e) => {\n  //       return e.label;\n  //     });\n  //     setOptions(videoDevicesAvailable);\n  //   }\n  // }, [devicesAvailable]);\n\n  // const handleChangeVideoSource = (event, index) => {\n  //   setSelectedIndex(index);\n  //   setOpen(false);\n  //   const videoDeviceId = devicesAvailable.find(\n  //     (device) => device.label === event.target.textContent\n  //   ).deviceId;\n  //   changeVideoSource(videoDeviceId);\n  // };\n\n  // const handleToggle = (e) => {\n  //   setOpen((prevOpen) => !prevOpen);\n  // };\n\n  // const handleClose = (event) => {\n  //   if (anchorRef.current && anchorRef.current.contains(event.target)) {\n  //     return;\n  //   }\n  //   setOpen(false);\n  // };\n\n  return (\n    <>\n      <Tooltip title={title} aria-label=\"add\">\n        <IconButton\n          onClick={handleVideoChange}\n          edge=\"start\"\n          aria-label=\"videoCamera\"\n          size=\"small\"\n          className={`${classes.arrowButton} ${\n            !hasVideo ? classes.disabledButton : ''\n          }`}\n        >\n          {!hasVideo ? (\n            <VideocamOff fontSize=\"large\" />\n          ) : (\n            <VideoCam fontSize=\"large\" />\n          )}\n        </IconButton>\n      </Tooltip>\n    </>\n  );\n}\n","import { useState, useCallback, useEffect, useContext } from 'react';\n// import { Message } from '../entities/ChatMessage';\n// import { UserContext } from '../context/UserContext';\nimport { v4 as uuid } from 'uuid';\n\nexport function useSignalling({ session }) {\n  const [messages, setMessages] = useState(null);\n  const [entities, setEntities] = useState(null);\n  const [archiveId, setArchiveId] = useState(null);\n  const [renderedSesion, setRenderedSession] = useState(null);\n  const [medication, setMedicationEntities] = useState([]);\n  const [medicalConditions, setMedicalConditionsEntities] = useState([]);\n  const [anatomyEntities, setAnatomyEntities] = useState([]);\n  const [piiEntities, setPiiEntities] = useState([]);\n  const [ttpEntities, setTtpEntities] = useState([]);\n  //   const { user } = useContext(UserContext);\n\n  const signal = useCallback(\n    async ({ type, data }) => {\n      return new Promise((resolve, reject) => {\n        const payload = JSON.parse(JSON.stringify({ type, data }));\n        if (session) {\n          session.signal(payload, (err) => {\n            if (err) reject(err);\n            else resolve();\n          });\n        }\n      });\n    },\n    [session]\n  );\n\n  const archiveListener = useCallback(({ data }) => {\n    console.log(data);\n    const archiveId = data.split(':')[0];\n    const sessionRendered = data.split(':')[1];\n    setArchiveId(archiveId);\n    setRenderedSession(sessionRendered);\n  }, []);\n\n  const sendMessage = useCallback(\n    (message) => {\n      return signal({ type: 'message', data: message });\n    },\n    [signal]\n  );\n\n  // useEffect(() => {\n  //   if (medicalConditions) console.log(medicalConditions);\n  //   if (medication) console.log(medication);\n  // }, [medicalContitions, medication]);\n\n  const medicationListener = useCallback(({ data, from }) => {\n    const dataJson = JSON.parse(data);\n    // const medString = `${dataJson[0].Description} | ${dataJson[0].Code}`;\n    // setMedicationEntities((prev) => [...prev, medString]);\n    //console.log(dataJson)\n    if (dataJson.length) {\n      dataJson.forEach((entity) => {\n        if (entity?.Category === 'MEDICATION') {\n          setMedicationEntities((prev) => [{\n            Text: `${entity.Text} | ${ Math.floor(entity.Score * 10000)/100 }%`, \n            concepts: entity.RxNormConcepts? entity.RxNormConcepts : []\n          }, ...prev]);\n        }\n      })\n    }\n  }, []);\n\n  const medConditionListener = useCallback(({ data, from }) => {\n    const dataJson = JSON.parse(data);\n    // const medString = `${dataJson[0].Description} | ${dataJson[0].Code}`;\n    // setMedicalConditionsEntities((prev) => [...prev, medString]);\n    if (dataJson.length) {\n      dataJson.forEach((entity) => {\n        if (entity?.Category === 'MEDICAL_CONDITION') {\n          setMedicalConditionsEntities((prev) => [{\n            Text: `${entity.Text} | ${ Math.floor(entity.Score * 10000)/100 }%`, \n            concepts: entity.ICD10CMConcepts? entity.ICD10CMConcepts : []\n          }, ...prev]);\n        }\n      })\n    }\n  }, []);\n\n  const entitiesListener = useCallback(({ data, from }) => {\n    const dataJson = JSON.parse(data);\n    if (dataJson.length) {\n      dataJson.forEach((entity) => {\n        if (entity?.Category === 'ANATOMY')\n          setAnatomyEntities((prev) => [{\n            Text: `${entity.Type} | ${entity.Text}`, \n          }, ...prev]);\n\n        if (entity?.Category === 'PROTECTED_HEALTH_INFORMATION')\n          setPiiEntities((prev) => [{\n            Text: `${entity.Type} | ${entity.Text}`,\n          }, ...prev]);\n\n        if (entity?.Category === 'TEST_TREATMENT_PROCEDURE') {\n          var attribute = entity.Attributes && entity.Attributes[0]? ' | ' + entity.Attributes[0].Text : '';\n          setTtpEntities((prev) => [{\n            Text: entity.Text + attribute, \n          }, ...prev]);\n        }\n      });\n    }\n  }, []);\n\n  const messageListener = useCallback(({ data, from }) => {\n    console.log('received message');\n    console.log(JSON.stringify(data));\n    setMessages(data);\n  }, []);\n\n  useEffect(() => {\n    if (session) {\n      session.on('signal:captions', messageListener);\n      session.on('signal:medicalEntities', entitiesListener);\n      session.on('signal:archiveStarted', archiveListener);\n      session.on('signal:medication', medicationListener);\n      session.on('signal:medCondition', medConditionListener);\n    }\n    return function cleanup() {\n      if (session) {\n        session.off('signal:captions', messageListener);\n        session.off('signal:archiveStarted', archiveListener);\n        session.off('signal:medicalEntities', entitiesListener);\n        session.off('signal:medication', medicationListener);\n        session.off('signal:medCondition', medicationListener);\n      }\n    };\n  }, [\n    session,\n    messageListener,\n    archiveListener,\n    entitiesListener,\n    medicationListener,\n    medConditionListener,\n  ]);\n\n  return {\n    sendMessage,\n    messages,\n    archiveId,\n    renderedSesion,\n    medicalConditions,\n    medication,\n    piiEntities,\n    anatomyEntities,\n    ttpEntities,\n  };\n}\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles((theme) => ({\n  activeRecordingIcon: {\n    boxShadow: '0 0 0 0 rgba(213, 15, 45, 1)',\n    animation: 'pulse-red 2s infinite',\n    borderRadius: '100%',\n  },\n}));\n","import { useState, useContext } from 'react';\nimport {\n  startRecording,\n  stopRecording,\n  render,\n  stopRender,\n  addArchiveStream,\n} from '../../api/fetchRecording';\n\nimport { useSignalling } from '../../hooks/useSignalling';\n\nimport { UserContext } from '../../context/UserContext';\n\nimport FiberManualRecordIcon from '@mui/icons-material/FiberManualRecord';\nimport { IconButton } from '@material-ui/core';\nimport styles from './styles';\nimport Tooltip from '@mui/material/Tooltip';\nimport { useParams } from 'react-router';\nimport { useEffect } from 'react';\n\nexport default function RecordingButton({ classes, session }) {\n  const { preferences, setPreferences } = useContext(UserContext);\n  let { roomName } = useParams();\n  const { archiveId } = useSignalling({ session });\n  const [isRecording, setRecording] = useState(false);\n  const [renderId, setRenderId] = useState(null);\n  const [sessionId, setSessionId] = useState(null);\n  const localClasses = styles();\n\n  const startRender = async (roomName) => {\n    if (isRecording) return;\n    try {\n      const renderData = await render(roomName);\n      if ((renderData.status = 200 && renderData.data)) {\n        const { id, sessionId } = renderData.data;\n        // console.log(renderData.data);\n        // setRenderId('12334');\n        preferences.renderId = id;\n        preferences.sessionId = sessionId;\n        setRenderId(id);\n        // setRecording(true);\n        setSessionId(sessionId);\n      } else return;\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    console.log('run preferences hook');\n    if (\n      renderId !== preferences.renderId ||\n      archiveId !== preferences.archiveId ||\n      sessionId !== preferences.sessionId\n    ) {\n      if (renderId) {\n        setPreferences({\n          ...preferences,\n          renderId: renderId,\n          archiveId: archiveId,\n          sessionId: sessionId,\n        });\n      }\n    }\n  }, [renderId, setPreferences, archiveId, preferences, sessionId]);\n\n  useEffect(() => {\n    if (preferences.recording !== isRecording) {\n      setPreferences({\n        ...preferences,\n        recording: isRecording,\n      });\n    }\n    // } else {\n    //   setPreferences({\n    //     ...preferences,\n    //     recording: false,\n    //   });\n    // }\n  }, [isRecording, preferences, setPreferences]);\n\n  const stopRenderAndRecording = async (renderId) => {\n    if (renderId) {\n      try {\n        const renderData = await stopRender(renderId);\n        console.log(renderData);\n        if ((renderData.status = 200)) {\n          handleRecordingStop(archiveId);\n          setRenderId(null);\n        } else return;\n      } catch (e) {\n        console.log(e);\n      }\n    } else return;\n  };\n\n  useEffect(() => {\n    if (session) {\n      session.on('archiveStarted', () => {\n        setRecording(true);\n      });\n      session.on('archiveStopped', () => {\n        setRecording(false);\n      });\n    }\n    // return () => {\n    //   session.off('archiveStarted', () => {});\n    //   session.off('archiveStopped', () => {});\n    // };\n  });\n\n  const handleRecordingStop = async (archiveId) => {\n    try {\n      if (isRecording && archiveId) {\n        const data = await stopRecording(archiveId);\n        console.log(data);\n        if (data.status === 200 && data.data) {\n          const { status } = data.data;\n          setRecording(false);\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleRecordingAction = () => {\n    console.log('trying to start recording');\n    isRecording ? stopRenderAndRecording(renderId) : startRender(roomName);\n    // ? handleRecordingStop(archiveId)\n    // : handleRecordingStart(sessionId);\n  };\n\n  const title = isRecording ? 'Stop Recording' : 'Start Recording';\n\n  return (\n    <Tooltip title={title} aria-label=\"add\">\n      <IconButton\n        // edge=\"start\"\n        // color=\"inherit\"\n        // edge=\"start\"\n        aria-label=\"record\"\n        onClick={handleRecordingAction}\n        // size=\"small\"\n        className={classes.toolbarButtons}\n      >\n        {isRecording ? (\n          <FiberManualRecordIcon\n            fontSize=\"large\"\n            className={localClasses.activeRecordingIcon}\n            style={{ color: '#D50F2C' }}\n          />\n        ) : (\n          <FiberManualRecordIcon fontSize=\"large\" />\n        )}\n      </IconButton>\n    </Tooltip>\n  );\n}\n","import ExitToAppIcon from '@mui/icons-material/ExitToApp';\nimport { IconButton } from '@material-ui/core';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nexport default function EndCallIcon({ classes, handleEndCall }) {\n  return (\n    <Tooltip title=\"End call\" aria-label=\"add\">\n      <IconButton\n        edge=\"start\"\n        color=\"inherit\"\n        aria-label=\"videoCamera\"\n        className={classes.toolbarButtons}\n        style={{ backgroundColor: '#D50F2C' }}\n        onClick={handleEndCall}\n      >\n        <ExitToAppIcon fontSize=\"inherit\" />\n      </IconButton>\n    </Tooltip>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles((theme) => ({\n  toolbarContainer: {\n    backgroundColor: theme.palette.toolbarBackground.main,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    height: '90px',\n    // margin: theme.spacing(2),\n    borderRadius: '18px',\n  },\n  paper: {\n    position: 'absolute',\n    display: 'flex',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  toolbarMobileContainer: {\n    backgroundColor: theme.palette.toolbarBackground.main,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    height: '60px',\n    margin: theme.spacing(2),\n    borderRadius: '25px',\n  },\n  toolbarButtons: {\n    margin: theme.spacing(1),\n    borderRadius: '5em',\n    backgroundColor: '#32353A',\n    color: '#fff',\n  },\n  arrowButton: {\n    borderRadius: '5em',\n    height: '50px',\n    width: '50px',\n    backgroundColor: '#32353A',\n    color: '#fff',\n  },\n  infoButton: {\n    position: 'absolute',\n    left: '0',\n    margin: theme.spacing(1),\n    borderRadius: '5em',\n    height: '50px',\n    width: '50px',\n    backgroundColor: '#32353A',\n    color: '#fff',\n  },\n  groupButton: {\n    margin: '8px',\n  },\n  disabledButton: {\n    backgroundColor: theme.palette.activeButtons.red,\n    '&:hover': {\n      backgroundColor: theme.palette.activeButtons.red,\n    },\n  },\n  activeButton: {\n    backgroundColor: theme.palette.activeButtons.green,\n    '&:hover': {\n      backgroundColor: theme.palette.activeButtons.green,\n    },\n  },\n  activeButtonIcon: {\n    color: theme.palette.activeButtons.green,\n  },\n}));\n","import React from 'react';\n\nimport MuteAudioButton from '../MuteAudioButton';\nimport MuteVideoButton from '../MuteVideoButton';\nimport RecordButton from '../RecordButton';\nimport EndCallButton from '../EndCallButton';\nimport { useSignalling } from '../../hooks/useSignalling';\nimport { useHistory } from 'react-router-dom';\nimport { useParams } from 'react-router';\nimport { usePublisher } from '../../hooks/usePublisher';\nimport { useSession } from '../../hooks/useSession';\nimport { UserContext } from '../../context/UserContext';\n\nimport styles from './styles';\n\nfunction ToolBar({\n  session,\n  handleVideoChange,\n  handleAudioChange,\n  hasVideo,\n  hasAudio,\n  publisher,\n}) {\n  const classes = styles();\n  const { push } = useHistory();\n  const { roomName } = useParams();\n  const { renderedSesion } = useSignalling({ session });\n  const { preferences } = React.useContext(UserContext);\n\n  const endCall = () => {\n    if (publisher) {\n      // session.disconnect();\n      // publisher.destroy();\n      push(`/mta/${roomName}/${preferences.sessionId}/end`);\n    }\n  };\n  return (\n    <div className=\"toolbar\">\n      <MuteAudioButton\n        classes={classes}\n        handleAudioChange={handleAudioChange}\n        hasAudio={hasAudio}\n      />\n      <MuteVideoButton\n        classes={classes}\n        handleVideoChange={handleVideoChange}\n        hasVideo={hasVideo}\n      />\n      <RecordButton classes={classes} session={session} />\n      <EndCallButton classes={classes} handleEndCall={endCall} />\n    </div>\n  );\n}\n\nexport default ToolBar;\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles({\n    root: {\n        top: '0',\n        background: ({ wsStatus }) => {\n            if (wsStatus === 'disconnected') return '#f19c38';\n            if (wsStatus === 'reconnecting') return '#f19c38';\n            if (wsStatus === 'reconnected') return '#4caf50';\n        },\n        /* width: '100%', */\n        justifyContent: 'center',\n    },\n    info: {\n        top: '0',\n        background: '#418be9',\n        justifyContent: 'center',\n    },\n    action: {\n        position: 'absolute',\n        right: '0',\n        paddingRight: '10px',\n    },\n    networkStatusIcons: {\n        paddingRight: '10px',\n    },\n    snackBarContent: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        fontSize: '14px'\n    },\n});\n","import { useEffect, useRef, useState, useCallback, useContext } from 'react';\nimport { useParams } from 'react-router';\n\nimport Banner from '../Banner';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport Collapse from '@mui/material/Collapse';\nimport Select from '@mui/material/Select';\nimport MenuItem from '@mui/material/MenuItem';\nimport MedicalInformationIcon from '@mui/icons-material/MedicalInformation';\nimport VaccinesIcon from '@mui/icons-material/Vaccines';\nimport MedicationIcon from '@mui/icons-material/Medication';\nimport BloodtypeIcon from '@mui/icons-material/Bloodtype';\nimport Typography from '@mui/material/Typography';\nimport ContactPageIcon from '@mui/icons-material/ContactPage';\nimport MonitorHeart from '@mui/icons-material/MonitorHeart';\n\nfunction EntitiesList({ listOfEntities, entity }) {\n  const getIcon = (entity) => {\n    switch (entity) {\n      case 'Medical Condition':\n        return <MedicalInformationIcon />;\n      case 'Medication':\n        return <MedicationIcon />;\n      case 'Anatomy':\n        return <BloodtypeIcon />;\n      case 'Treatments':\n        return <VaccinesIcon />;\n      case 'PII':\n        return <ContactPageIcon />;\n      case 'Test Treatment Procedures':\n        return <MonitorHeart />;\n      default:\n        return;\n    }\n  };\n\n  const getBgColor = (entity) => {\n    switch (entity) {\n      case 'Medical Condition':\n        return '#5cceff';\n      case 'Medication':\n        return '#f0e442';\n      case 'Anatomy':\n        return '#d185af';\n      case 'Treatments':\n        return '#4a9';\n      case 'PII':\n        return '#999';\n      case 'Test Treatment Procedures':\n        return '#4a9';\n      default:\n        return;\n    }\n  };\n  return (<>\n    <List>\n      <ListItem key={entity} disablePadding>\n        <ListItemIcon>{getIcon(entity)}</ListItemIcon>\n        \n        <Typography\n        style={{ background: getBgColor(entity), padding: '0px' }}\n            variant=\"div\"\n            component=\"div\"\n            gutterBottom\n          >\n            {entity}\n          </Typography>\n        </ListItem>\n    </List>\n    <List sx={{\n      pl:2,\n      display: \"flex\",\n      flexDirection: \"column\",\n      maxHeight: 100,\n      overflow: \"hidden\",\n      overflowY: \"scroll\",\n      bgcolor: 'background.paper'\n    }}>\n      {listOfEntities\n        ? listOfEntities.map((e, i) => <div key={`${e.Text}-${i}`} >\n          <ListItem disablePadding>\n            <ListItemText primary={e.Text} />\n          </ListItem>\n          <Collapse in={true} timeout=\"auto\" unmountOnExit sx={{pl:2}}>\n          <List component=\"div\" disablePadding>\n          {e.concepts && e.concepts.length > 0?\n            <Select value='0' size=\"small\">\n              {e.concepts.map((_e, _i) => \n                <MenuItem key={`item-${i}-${_i}`} value={_i} >\n                  {`${_e.Code} | ${_e.Description} | ${ Math.floor(_e.Score * 10000)/100 }%`}\n                </MenuItem>\n                )}\n            </Select>\n            : ''}\n            </List>\n            </Collapse>\n        </div>)\n        : ''}\n    </List>\n  </>);\n}\n\nexport default EntitiesList;\n","import { useEffect, useRef, useState, useCallback, useContext } from 'react';\nimport { useParams } from 'react-router';\n\nimport { usePublisher } from '../../hooks/usePublisher';\nimport { useSession } from '../../hooks/useSession';\nimport { stopRender, stopRecording } from '../../api/fetchRecording';\nimport ToolBar from '../ToolBar';\nimport { getCredentials } from '../../api/fetchCreds';\nimport { UserContext } from '../../context/UserContext';\nimport { useSignalling } from '../../hooks/useSignalling';\n\nimport EntitiesList from '../EntitiesList';\n\nfunction Main() {\n  // const [timePlayingLeft, setTime] = useState(0);\n  const videoContainer = useRef();\n  let { roomName } = useParams();\n  const { preferences } = useContext(UserContext);\n  const [captions, setCaptions] = useState({\n    text: 'Say something...',\n    speaker: '',\n  });\n\n  const [credentials, setCredentials] = useState(null);\n  const [error, setError] = useState(null);\n  const [hasAudio, setHasAudio] = useState(true);\n  const [hasVideo, setHasVideo] = useState(true);\n  const [userId, setUserId] = useState(null);\n  // const [translationPlaying, setTranslationPlaying] = useState(false);\n\n  const { session, createSession, connected, status, destroySession } =\n    useSession({\n      container: videoContainer,\n    });\n  // const medicalConditions = ['heart failure', 'type 2 diabetes', 'lung cancer'];\n  const {\n    messages,\n    sendMessage,\n    medication,\n    medicalConditions,\n    piiEntities,\n    anatomyEntities,\n    ttpEntities,\n  } = useSignalling({\n    session: session.current,\n  });\n\n  const {\n    publisher,\n    publish,\n    pubInitialised,\n    isPublishing,\n    publisherError,\n    destroyPublisher,\n    unpublish,\n  } = usePublisher();\n\n  useEffect(() => {\n    setCaptions(messages);\n  }, [messages]);\n\n  useEffect(() => {\n    getCredentials(roomName)\n      .then(({ data }) => {\n        console.log('Credential data: ', data);\n        setCredentials({\n          apiKey: data.apiKey,\n          sessionId: data.sessionId,\n          token: data.token,\n        });\n        setUserId(data.userId);\n      })\n      .catch((err) => {\n        setError(err);\n        console.log(err);\n      });\n\n    // return () => {\n    //   destroyPublisher();\n    // };\n  }, [roomName]);\n\n  useEffect(() => {\n    if (credentials) {\n      const { apiKey, sessionId, token } = credentials;\n      console.log(apiKey);\n      createSession({ apiKey, sessionId, token });\n    }\n  }, [createSession, credentials]);\n\n  // useEffect(() => {\n  //   if (preferences.renderId && preferences.archiveId && preferences.recording)\n  //     return () => {\n  //       destroyPublisher();\n  //     };\n  // }, [\n  //   destroyPublisher,\n  //   preferences.archiveId,\n  //   preferences.recording,\n  //   preferences.renderId,\n  // ]);\n\n  const handleAudioChange = useCallback(() => {\n    if (hasAudio) {\n      publisher.publishAudio(false);\n      setHasAudio(false);\n    } else {\n      publisher.publishAudio(true);\n      setHasAudio(true);\n    }\n  }, [hasAudio, publisher]);\n\n  const handleVideoChange = useCallback(() => {\n    if (hasVideo) {\n      publisher.publishVideo(false);\n      setHasVideo(false);\n      try {\n      } catch (e) {\n        console.log(e);\n      }\n    } else {\n      publisher.publishVideo(true);\n      setHasVideo(true);\n      try {\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, [hasVideo, publisher]);\n\n  useEffect(() => {\n    if (\n      session.current &&\n      connected &&\n      !pubInitialised &&\n      videoContainer.current\n    ) {\n      // todo It might be better to change state of this component.\n      publish({\n        session: session.current,\n        containerId: videoContainer.current.id,\n      });\n    }\n  }, [publish, session, connected, pubInitialised]);\n\n  // useEffect(() => {\n  //   return () => {\n  //     // destroySession();\n  //     if (publisher) {\n  //       publisher.destroy();\n  //     }\n  //   };\n  // });\n\n  return (\n    <>\n      <div className=\"videoContainer\">\n        <div\n          className={'video'}\n          ref={videoContainer}\n          id=\"video-container\"\n        ></div>\n        <div\n          className=\"medicalAnalysis\"\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            maxHeight: 820,\n            overflow: 'hidden',\n            overflowY: 'scroll',\n          }}\n        >\n          <div className=\"entityType\">\n            <EntitiesList\n              listOfEntities={medicalConditions}\n              entity={'Medical Condition'}\n            />\n          </div>\n          <div className=\"entityType\">\n            <EntitiesList listOfEntities={medication} entity={'Medication'} />\n          </div>\n          <div className=\"entityType\">\n            <EntitiesList listOfEntities={anatomyEntities} entity={'Anatomy'} />\n          </div>\n          <div className=\"entityType\">\n            <EntitiesList listOfEntities={piiEntities} entity={'PII'} />\n          </div>\n          <div className=\"entityType\">\n            <EntitiesList\n              listOfEntities={ttpEntities}\n              entity={'Test Treatment Procedures'}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"original\">\n        {captions ? `${captions.speaker}: ${captions.text}` : ''}\n      </div>\n      <ToolBar\n        handleAudioChange={handleAudioChange}\n        handleVideoChange={handleVideoChange}\n        session={session.current}\n        hasAudio={hasAudio}\n        hasVideo={hasVideo}\n        publisher={publisher}\n      />\n    </>\n  );\n}\n\nexport default Main;\n","import { makeStyles } from '@material-ui/core/styles';\n// export default makeStyles((theme)=>{\nexport default makeStyles({\n  flex: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'nowrap',\n    justifyContent: 'flex-start',\n    alignContent: 'stretch',\n    alignItems: 'flex-start',\n  },\n});\n","import Main from '../Main';\nimport styles from './styles.js';\nimport React from 'react';\n\nfunction Wrapper() {\n  const classes = styles();\n  return (\n    <div className={classes.flex}>\n      <Main />\n    </div>\n  );\n}\n\nexport default Wrapper;\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles((theme) => ({\n  banner: {\n    zIndex: 1,\n    // flexGrow: 0.1,\n    margin: '200px',\n    height: '100px',\n    width: '50%',\n    // position: 'absolute'\n    alignItems: 'center',\n    borderRadius: '30px',\n    backgroundColor: 'black',\n  },\n  container: {\n    ['@media (min-width:768px)']: {\n      marginTop: 10,\n      display: 'flex',\n      flexDirection: 'row',\n    },\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    alignContent: 'center',\n  },\n  new__meeting: {\n    color: 'rgb(43,158,250)',\n  },\n\n  meetingInfo: {\n    margin: '100px',\n    width: '50%',\n    height: '100px',\n    color: 'white',\n  },\n  recording: {\n    display: 'flex',\n    flexDirection: 'row',\n    margin: '5px',\n    padding: '5px',\n  },\n  root: {\n    minWidth: 275,\n    margin: 'auto',\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  centeredFlex: {\n    justifyContent: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    backgroundColor: 'black',\n    color: 'white',\n    borderRadius: '30px',\n  },\n}));\n","import { useEffect, useState } from 'react';\nimport { fetchRecordings } from '../../api/fetchRecording';\nimport { useParams } from 'react-router';\nimport GetAppIcon from '@mui/icons-material/GetApp';\nimport { IconButton } from '@material-ui/core';\n\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport { useHistory } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport { usePublisher } from '../../hooks/usePublisher';\n\nimport styles from './styles';\n\nexport default function EndCall() {\n  const { push } = useHistory();\n  const [recordings, setRecordings] = useState(null);\n  const classes = styles();\n  const { sessionId } = useParams();\n\n  const { destroyPublisher } = usePublisher();\n\n  const redirectNewMeeting = () => {\n    push('/');\n  };\n  useEffect(() => {\n    destroyPublisher();\n    // if (sessionId !== 'undefined') {\n    console.log(sessionId);\n    fetchRecordings(sessionId)\n      .then((data) => {\n        if (data.data) {\n          setRecordings(data.data);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n\n        setRecordings(null);\n      });\n  }, [sessionId, destroyPublisher]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.OT.publishers.map((e) => e)[0].destroy();\n    }, 3000);\n  });\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.meetingInfo}>\n        <h2 style={{ color: 'white' }}>We hope you enjoyed your meeting</h2>\n        <h2 style={{ color: 'white' }}>This was powered by Vonage</h2>\n\n        <IconButton\n          onClick={redirectNewMeeting}\n          className={classes.new__meeting}\n        >\n          Start new meeting\n        </IconButton>\n      </div>\n      <div className={classes.banner}>\n        <Card className={classes.centeredFlex} variant=\"outlined\">\n          <CardContent>\n            {recordings && recordings.length ? (\n              <h3 style={{ color: 'white' }}>Recordings</h3>\n            ) : (\n              <h3>There are no recordings</h3>\n            )}\n          </CardContent>\n          <CardActions>\n            <div className={classes.root}>\n              {recordings ? (\n                <div className={classes.recording}>\n                  <ul>\n                    {recordings.map((recording) => (\n                      <li key={recording.id}>\n                        Started at: {Date(recording.createdAt)}\n                        {recording.status === 'available' ? (\n                          <Button\n                            color=\"inherit\"\n                            edge=\"start\"\n                            target=\"_blank\"\n                            href={recording.url}\n                          >\n                            <GetAppIcon />\n                          </Button>\n                        ) : null}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ) : null}\n            </div>\n          </CardActions>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { UserContext } from '../../context/UserContext';\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const { preferences } = useContext(UserContext);\n  const roomName = rest?.computedMatch?.params?.roomName;\n\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        !roomName ? (\n          <Redirect\n            to={{\n              pathname: '/',\n              //   state: { room: roomName },\n            }}\n          />\n        ) : (\n          <Component {...props} />\n        )\n      }\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles((theme) => ({\n  header: {\n    flex: '0.5 1 auto',\n    alignSelf: 'stretch',\n    margin: 'auto',\n    padding: '15px 30px',\n    display: 'flex',\n    background: 'linear-gradient(to right, #8728fb, #fea18c) !important',\n    color: '#fff',\n    width: '100%',\n    alignItems: 'center',\n  },\n}));\n","import React from 'react';\n\nimport styles from './styles';\n\nfunction Header() {\n  const classes = styles();\n  return (\n    <div className={classes.header}>\n      <img\n        src={process.env.PUBLIC_URL + '/Vonage.png'}\n        className=\"vonage-logo\"\n        alt=\"vonage-logo\"\n        style={{ height: 50, alignSelf: 'center' }}\n      />\n      <h3 className=\"text\">Video Translation (Patent Pending)</h3>\n    </div>\n  );\n}\n\nexport default Header;\n","import { makeStyles } from '@material-ui/core/styles';\n// export default makeStyles((theme)=>{\nexport default makeStyles({\n  flex: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'column',\n    flexWrap: 'nowrap',\n    justifyContent: 'flex-start',\n    alignContent: 'stretch',\n    alignItems: 'flex-start',\n  },\n});\n","import Main from '../Main';\nimport Header from '../Header';\nimport styles from './styles.js';\nimport React from 'react';\n\nimport { useEffect, useRef, useState, useCallback, useContext } from 'react';\nimport { useParams } from 'react-router';\n\nimport { usePublisher } from '../../hooks/usePublisher';\nimport { useSession } from '../../hooks/useSession';\n\nimport ToolBar from '../ToolBar';\nimport { getVirtualViewerCredentials } from '../../api/fetchCreds';\nimport { UserContext } from '../../context/UserContext';\nimport { useSignalling } from '../../hooks/useSignalling';\nimport EntitiesList from '../EntitiesList';\n\nfunction VirtualView() {\n  const [credentials, setCredentials] = useState(null);\n\n  const videoContainer = useRef();\n  let { roomName } = useParams();\n  const { preferences } = useContext(UserContext);\n\n  const [captions, setCaptions] = useState({\n    text: 'Say something...',\n    speaker: '',\n  });\n  const { session, createSession, connected, streams } = useSession({\n    container: videoContainer,\n  });\n\n  const {\n    messages,\n    sendMessage,\n    medication,\n    medicalConditions,\n    piiEntities,\n    anatomyEntities,\n    ttpEntities,\n  } = useSignalling({\n    session: session.current,\n  });\n\n  const isVirtualView = () => {\n    if (session) return session.connection.data === 'virtual';\n    else return;\n  };\n\n  useEffect(() => {\n    getVirtualViewerCredentials(roomName)\n      .then(({ data }) => {\n        setCredentials({\n          apiKey: data.apiKey,\n          sessionId: data.sessionId,\n          token: data.token,\n        });\n        setUserId(data.userId);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [roomName]);\n\n  useEffect(() => {\n    if (credentials) {\n      const { apiKey, sessionId, token } = credentials;\n      console.log(apiKey);\n      createSession({ apiKey, sessionId, token });\n    }\n  }, [createSession, credentials]);\n\n  useEffect(() => {\n    setCaptions(messages);\n  }, [messages]);\n\n  const classes = styles();\n  return (\n    <>\n      <div className=\"videoContainer\">\n        <div\n          className={'video'}\n          ref={videoContainer}\n          id=\"video-container\"\n        ></div>\n        <div\n          className=\"medicalAnalysis\"\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            maxHeight: 820,\n            overflow: 'hidden',\n            overflowY: 'scroll',\n          }}\n        >\n          <div className=\"entityType\">\n            <EntitiesList\n              listOfEntities={medicalConditions}\n              entity={'Medical Condition'}\n            />\n          </div>\n          <div className=\"entityType\">\n            <EntitiesList listOfEntities={medication} entity={'Medication'} />\n          </div>\n          <div className=\"entityType\">\n            <EntitiesList listOfEntities={anatomyEntities} entity={'Anatomy'} />\n          </div>\n          <div className=\"entityType\">\n            <EntitiesList listOfEntities={piiEntities} entity={'PII'} />\n          </div>\n          <div className=\"entityType\">\n            <EntitiesList\n              listOfEntities={ttpEntities}\n              entity={'Test Treatment Procedures'}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"captionsComposer\">\n        {captions ? `${captions.speaker}: ${captions.text}` : ''}\n      </div>\n    </>\n  );\n}\n\nexport default VirtualView;\n","import logo from './logo.svg';\nimport './App.css';\nimport WaitingRoom from './components/WaitingRoom';\nimport Wrapper from './components/Wrapper';\nimport EndCall from './components/EndCall';\n\nimport { createTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { UserContext } from './context/UserContext';\nimport { useMemo, useState } from 'react';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport VirtualView from './components/VirtualView';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\n\nlet primary = process.env.REACT_APP_PALETTE_PRIMARY || '#b779ff';\nlet secondary = process.env.REACT_APP_PALETTE_SECONDARY || '#d6219c';\n\nconst theme = () => {\n  return createTheme({\n    palette: {\n      type: 'light',\n      primary: {\n        main: primary,\n      },\n      secondary: {\n        main: secondary,\n      },\n      bodyBackground: {\n        black: '#131415',\n      },\n      callBackground: {\n        main: '#20262D',\n      },\n      toolbarBackground: {\n        main: '#41464D',\n      },\n      activeButtons: {\n        green: '#1C8731',\n        red: '#D50F2C',\n      },\n    },\n  });\n};\n\nfunction App() {\n  const [preferences, setPreferences] = useState({\n    name: null,\n    defaultSettings: {},\n  });\n  const preferencesValue = useMemo(\n    () => ({ preferences, setPreferences }),\n    [preferences, setPreferences]\n  );\n  return (\n    <ThemeProvider theme={theme()}>\n      <Router>\n        <UserContext.Provider value={preferencesValue}>\n          <Switch>\n            <Route exact path=\"/mta/:roomName/:sessionId/end\">\n              <EndCall />\n            </Route>\n            <ProtectedRoute exact path=\"/room/:roomName\" component={Wrapper} />\n\n            {/* <Route path=\"/videorti/virtualviewer/:roomName\">\n              <VirtualView />\n            </Route> */}\n            <Route path=\"/videorti/recorder/:roomName\">\n              <VirtualView />\n            </Route>\n            <Route path=\"/\">\n              <WaitingRoom />\n            </Route>\n            <Route path=\"*\">\n              <Redirect\n                to={{\n                  pathname: '/',\n                }}\n              />\n            </Route>\n          </Switch>\n        </UserContext.Provider>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}